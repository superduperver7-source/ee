local Players = game:GetService("Players")
local player = Players.LocalPlayer
local normalSpeed = 16
local boostedSpeed = 50
local speedEnabled = false

local function applySpeed(char)
    local humanoid = char:WaitForChild("Humanoid")
    humanoid.WalkSpeed = normalSpeed
end

player.CharacterAdded:Connect(applySpeed)
if player.Character then
    applySpeed(player.Character)
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "SpeedGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = player:WaitForChild("PlayerGui")

local Toggle = Instance.new("TextButton")
Toggle.Size = UDim2.new(0, 140, 0, 50)
Toggle.Position = UDim2.new(0.05, 0, 0.1, 0)
Toggle.Text = "Speed: OFF"
Toggle.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
Toggle.Parent = ScreenGui

Toggle.MouseButton1Click:Connect(function()
    speedEnabled = not speedEnabled
    Toggle.Text = speedEnabled and "Speed: ON" or "Speed: OFF"

    local humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
    if humanoid then
        humanoid.WalkSpeed = speedEnabled and boostedSpeed or normalSpeed
    end
end)
