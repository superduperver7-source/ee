


local player = {Health = 100, Position = {x = 0, y = 0, z = 0}}
local server = {}


local function sendEventToServer(eventName, data)
    print("Event sent to server:", eventName, data)
    
   
    if eventName == "MovePlayer" then
        -- Simulate "desync" by changing position differently
        player.Position.x = player.Position.x + data.x + math.random(-2,2)
        player.Position.y = player.Position.y + data.y + math.random(-2,2)
        player.Position.z = player.Position.z + data.z + math.random(-2,2)
    elseif eventName == "ChangeHealth" then
        -- Simulate fake health change
        player.Health = player.Health + data.amount
        if player.Health > 100 then player.Health = 100 end
        if player.Health < 0 then player.Health = 0 end
    end
end


local function executeCommand(commandName, data)
    sendEventToServer(commandName, data)
    print("Current player state:", player)
end


executeCommand("MovePlayer", {x=5, y=0, z=0})     
executeCommand("ChangeHealth", {amount=-20})      
executeCommand("MovePlayer", {x=-3, y=0, z=2})     
